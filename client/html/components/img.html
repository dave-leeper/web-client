<custom-component>
    <script>
        //# sourceURL=html/components/image.html
        class Img extends Component { 
            static async getImageDimensions(imageURL) {
                return new Promise ((resolve, reject) => {
                    const img = new Image()

                    img.onload = () => {
                        const dimensions = { width: img.width, height: img.height }
                        
                        resolve(resolve)
                    }
                    img.onerror = () => { reject() }
                    img.src = imgSrc
                })
            }
            afterMount() {
                super.afterMount()                
                if (!this.vars.width && !this.vars.height) { return }

                if (this.vars.lazyLoading) { this.Element.setAtribute(`loading`, `lazy`) }
                else { this.Element.setAttribute(`loading`, `eager`) }
                if (this.vars.width) { this.Element.width = this.vars.width }
                if (this.vars.height) { this.Element.height = this.vars.height }

                if (!this.vars.src) { return }
                this.Element.src = this.vars.src
            }
            setSource(url) { 
                this.vars.src = url
                this.Element.src = this.vars.src
            }
            setSourceFromFile(file) { this.setSource(URL.createObjectURL(file)) }
             vars = {
                src: ``,
                lazyLoad: true,
                width: 100,
                height: 0
            }
        }
    </script>
    <style>
    </style>
    <component-markup>
        <img id="{id}" loading="lazy">
    </component-markup>
    <test-script>
    </test-script>
</custom-component>
